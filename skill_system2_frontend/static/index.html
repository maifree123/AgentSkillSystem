<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skill System 2 - Minimal UI</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="bg-wash"></div>
    <main class="app">
        <header class="topbar">
            <div class="brand">
                <div class="brand-mark">SS2</div>
                <div>
                    <h1>Skill System 2</h1>
                    <p>简约 · 护眼 · 可视化</p>
                </div>
            </div>
            <div class="status" id="statusText">未初始化</div>
        </header>

        <section class="grid">
            <aside class="panel">
                <h2>初始化</h2>
                <div class="field">
                    <label for="model">模型</label>
                    <select id="model">
                        <option value="gpt-4o-mini" selected>gpt-4o-mini</option>
                        <option value="gpt-4o">gpt-4o</option>
                        <option value="gpt-4.1-mini">gpt-4.1-mini</option>
                        <option value="gpt-4.1">gpt-4.1</option>
                    </select>
                </div>
                <button id="initBtn" class="btn">初始化 Agent</button>
                <div class="hint">API Key 从服务器 .env 自动读取</div>

                <div class="section">
                    <h3>技能列表</h3>
                    <div id="skillsList" class="list empty">尚未加载技能</div>
                </div>

                <div class="section">
                    <h3>文件上传</h3>
                    <div class="field">
                        <label for="fileInput">选择文件 (PDF/CSV)</label>
                        <input id="fileInput" type="file" accept=".pdf,.csv">
                    </div>
                    <button id="uploadBtn" class="btn">上传文件</button>
                    <div id="uploadStatus" class="hint">上传后可在对话中引用文件路径</div>
                    <div id="uploadList" class="list empty">暂无上传文件</div>
                </div>
            </aside>

            <section class="panel chat">
                <h2>对话</h2>
                <div id="messages" class="messages">
                    <div class="msg system">输入问题并发送，系统会自动调用技能。</div>
                </div>
                <div class="composer">
                    <input id="input" type="text" placeholder="例如：加载 hello world 并问候 Bob">
                    <button id="sendBtn" class="btn" disabled>发送</button>
                </div>
            </section>

            <aside class="panel">
                <h2>运行信息</h2>
                <div class="kv">
                    <div class="k">模型</div>
                    <div class="v" id="modelText">-</div>
                </div>
                <div class="kv">
                    <div class="k">已加载技能</div>
                    <div class="v" id="loadedSkills">-</div>
                </div>
                <div class="kv">
                    <div class="k">工具调用</div>
                    <div class="v" id="toolCalls">-</div>
                </div>
            </aside>
        </section>
    </main>

    <script src="/static/app.js"></script>
</body>
</html>
